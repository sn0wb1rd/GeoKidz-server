(this["webpackJsonpGeoKidz-client"]=this["webpackJsonpGeoKidz-client"]||[]).push([[0],{69:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(20),r=a.n(c),i=(a(69),a(5)),o=a(12),l=a(10),d=a(15),j=a.n(d),u="https://geokidz.herokuapp.com",m=a(11),b=a.p+"static/media/round-map.cff9d400.png",p=a.p+"static/media/pinguin-face.9fdc566e.png",h=a.p+"static/media/fox-face.28575f21.png",x=a.p+"static/media/unicorn-34.da70088b.png",O=a(1),g=function(e){return e.user?Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"horizontally-align",children:[Object(O.jsxs)("div",{className:"vertically-align",children:[Object(O.jsx)("h1",{children:"Create treasures and find other ones."}),Object(O.jsx)(m.b,{to:"/map",children:Object(O.jsx)("button",{className:"geo-btn",children:"Play"})}),Object(O.jsx)("div",{className:"avatars",children:Object(O.jsx)("img",{src:function(e){switch(e){case"fox":return h;case"unicorn":return x;case"pinguin":return p}}(e.user.guide),alt:"avatar",className:"avatar"})})]}),Object(O.jsx)("img",{src:b,alt:"round-map",className:"round-map"})]})}):Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"horizontally-align",children:[Object(O.jsxs)("div",{className:"vertically-align",children:[Object(O.jsx)("h1",{children:"Create treasures and find other ones."}),Object(O.jsx)(m.b,{to:"/signin",children:Object(O.jsx)("button",{className:"geo-btn",children:"Login"})})]}),Object(O.jsx)("img",{src:b,alt:"round-map",className:"round-map"})]}),Object(O.jsx)("div",{className:"horizontally-align",children:Object(O.jsxs)("div",{className:"vertically-align",children:[Object(O.jsx)("h3",{children:"New? Choose a guide :"}),Object(O.jsxs)("div",{className:"avatars",children:[Object(O.jsx)("div",{className:"avatar-card",children:Object(O.jsx)(m.b,{to:"/signup/unicorn",children:Object(O.jsx)("img",{src:x,alt:"unicorn",className:"avatar"})})}),Object(O.jsx)("div",{className:"avatar-card",children:Object(O.jsx)(m.b,{to:"/signup/pinguin",children:Object(O.jsx)("img",{src:p,alt:"pinguin",className:"avatar"})})}),Object(O.jsx)("div",{className:"avatar-card",children:Object(O.jsx)(m.b,{to:"/signup/fox",children:Object(O.jsx)("img",{src:h,alt:"fox",className:"avatar"})})})]})]})})]})};var f=function(e){return Object(O.jsxs)("form",{onSubmit:e.onSignIn,className:"form",children:[Object(O.jsx)("h3",{children:"Login"}),Object(O.jsxs)("div",{className:"input-group",children:[Object(O.jsx)("input",{name:"username",type:"text",className:"register-input",placeholder:"Username"}),Object(O.jsx)("input",{name:"password",type:"password",className:"register-input",placeholder:"Password"})]}),Object(O.jsx)("button",{type:"submit",className:"form-btn centered-btn",children:"Play"}),e.error&&Object(O.jsx)("p",{children:e.error.errorMessage}),Object(O.jsx)(m.b,{style:{marginLeft:"10px"},to:"/signup/fox",children:"New here? Create an account"})]})},v=function(e){switch(e){case"fox":return h;case"unicorn":return x;case"pinguin":return p}};var N=function(e){return Object(O.jsxs)("form",{onSubmit:e.onSignUp,className:"form",children:[Object(O.jsx)("h3",{children:"Welcome !"}),Object(O.jsx)("img",{src:v(e.match.params.guide),className:"avatar-talk",alt:"your avatar"}),Object(O.jsx)("input",{name:"guide",type:"hidden",value:e.match.params.guide}),Object(O.jsx)("p",{className:"avatar-text",children:"To play the game, you first have to subscribe. After that, let's the game begin ! "}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{name:"username",type:"text",className:"register-input",id:"InputUsername",placeholder:"Username"})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{name:"password",type:"password",className:"register-input",id:"InputPassword",placeholder:"Password"})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{name:"superpower",type:"text",className:"register-input",id:"InputSuperpower",placeholder:"Set your superpower here!"})}),e.error&&Object(O.jsx)("p",{children:e.error.errorMessage}),Object(O.jsx)("button",{type:"submit",className:"form-btn centered-btn",children:"Play"})]})},w=a(110),y=a(109),S=(a(38),a.p+"static/media/list.c98df85f.svg"),C=function(e){var t=Object(l.f)();return Object(O.jsxs)(w.a,{children:[Object(O.jsx)(w.a.Brand,{children:Object(O.jsxs)(m.b,{to:"/",className:"no-style-link nav-element-padding",children:["Geokidz"," ",Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"20",fill:"yellow",className:"bi bi-geo-alt-fill",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})})]})}),Object(O.jsx)(w.a.Toggle,{}),Object(O.jsx)(w.a.Collapse,{className:"justify-content-end nav-element-padding",children:Object(O.jsxs)(y.a,{children:[Object(O.jsx)(y.a.Toggle,{variant:"success",className:"dropdown-button",id:"dropdown-basic",children:Object(O.jsx)("img",{src:S,alt:"drop-menu",className:"drop-menu"})}),Object(O.jsxs)(y.a.Menu,{children:[Object(O.jsx)(y.a.Item,{href:"/about",className:"sub-menu",children:"About"}),e.user?Object(O.jsxs)("div",{children:[Object(O.jsx)(y.a.Item,{href:"/map",className:"sub-menu",children:"Map"}),Object(O.jsx)(y.a.Item,{children:Object(O.jsx)("button",{onClick:function(){return t.push("/profile")},className:"sub-menu",children:"Profile"})}),Object(O.jsx)(y.a.Item,{children:Object(O.jsx)("button",{onClick:e.onlogout,className:"sub-menu",children:"Logout"})})]}):Object(O.jsx)(O.Fragment,{})]})]})})]})},I=a(105),k=a(106),A=a(107),M=(a(44),a(13)),z=a.n(M),E=a(108),G=a(104),L=a(111),T=function(){return Object(O.jsxs)(G.a,{position:"topright",children:[Object(O.jsx)(G.a.BaseLayer,{checked:!0,name:"Esri | Topo colour ",children:Object(O.jsx)(L.a,{attribution:"Tiles \xa9 Esri \u2014 Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}'"})}),Object(O.jsx)(G.a.BaseLayer,{checked:!0,name:"OpenStreetMap | Topo colour ",children:Object(O.jsx)(L.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),Object(O.jsx)(G.a.BaseLayer,{name:"National Geographic | colour",children:Object(O.jsx)(L.a,{attribution:"Tiles \xa9 Esri \u2014 National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",url:"https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",maxZoom:12})}),Object(O.jsx)(G.a.BaseLayer,{name:"The Treasure map",children:Object(O.jsx)(L.a,{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> \u2014 Map data \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg"})}),Object(O.jsx)(G.a.BaseLayer,{name:"OpenStreetMap | Topo grey",children:Object(O.jsx)(L.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"})}),Object(O.jsx)(G.a.BaseLayer,{name:"Satelliet",children:Object(O.jsx)(L.a,{attribution:"Tiles \xa9 Esri \u2014 Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",minZoom:6,maxZoom:19,bounds:[[50.5,3.25],[54,7.6]]})}),Object(O.jsx)(G.a.BaseLayer,{name:"Night map ",children:Object(O.jsx)(L.a,{attribution:'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/VIIRS_CityLights_2012/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}",time:"",bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:8,format:"jpg",tilematrixset:"GoogleMapsCompatible_Level"})})]})},D=a(17),P={enableHighAccuracy:!0,timeout:500,maximumAge:0},U=new z.a.Icon({iconUrl:"https://res.cloudinary.com/alexandra-wtp/image/upload/v1615369978/bear_kfqmdf.png",iconSize:[40,40]}),W=new z.a.Icon({iconUrl:"https://res.cloudinary.com/alexandra-wtp/image/upload/v1615367916/t1n7axjjzll1rf7e7pjk.svg",iconSize:[30,40]}),B={textAlign:"center",margin:"10px",padding:"10px"},_={padding:"20px",fontSize:"15px"},R=function(e){var t=e.user,a=e.onConfirm,s=e.error,c=Object(n.useState)(null),r=Object(o.a)(c,2),i=r[0],l=r[1],d=Object(n.useState)([]),b=Object(o.a)(d,2),p=b[0],h=b[1],x=Object(n.useState)(null),g=Object(o.a)(x,1)[0];Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){l([e.coords.latitude,e.coords.longitude])}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}),P)})),Object(n.useEffect)((function(){j.a.get("".concat(u,"/api/mapitems")).then((function(e){h(e.data)})).catch((function(e){g(e)}))}),[h]);var f=function(e,a,n,s){e.preventDefault(),navigator.geolocation.getCurrentPosition((function(c){!function(e,a,n,s,c){var r="";c?(r=s,D.NotificationManager.info("Well done, you earned 10 points!","Saved as founded treasure")):(r=e.target.locdesc.value,D.NotificationManager.info("Well done, you earned 20 points!","Treasure is found, new location is saved!")),j.a.patch("".concat(u,"/api/mapitems/").concat(n),{locdesc:r,finder:t.username,lat:a.coords.latitude,long:a.coords.longitude}).then((function(e){return console.log("data inserted",e.data)})).catch((function(e){return console.log(e)}))}(e,c,a,n,s)}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}),P)};return i?Object(O.jsxs)("div",{className:"map-page",children:[Object(O.jsxs)("div",{className:"top-map",children:[Object(O.jsx)(m.b,{to:"/map/create",className:"transparent-btn no-style-link",children:"New treasure"}),Object(O.jsx)(D.NotificationContainer,{}),Object(O.jsx)("div",{className:"names",children:"Points: 50 "})]}),Object(O.jsxs)(I.a,{center:i,zoom:15,scrollWheelZoom:!1,id:"map",children:[Object(O.jsx)(T,{}),Object(O.jsx)(k.a,{icon:U,position:i,children:Object(O.jsx)(A.a,{className:"pop-up",children:"You're here!"})}),p.map((function(e,t){return Object(O.jsx)(k.a,{icon:W,position:[e.objhistory[e.objhistory.length-1].lat,e.objhistory[e.objhistory.length-1].long],children:Object(O.jsx)(A.a,{children:Object(O.jsxs)("div",{style:B,children:[e.image?Object(O.jsx)("img",{src:e.image,alt:e.itemname,width:"40px",className:"stone-popUp"}):null,Object(O.jsx)("h5",{children:e.itemname}),Object(O.jsxs)("div",{style:_,children:["Hint: ",e.locdesc]}),Object(O.jsxs)("p",{children:["Founded? Well done! ",Object(O.jsx)("br",{}),"Now choose what to do : ",Object(O.jsx)("strong",{children:"leave it here"}),", or ",Object(O.jsx)("strong",{children:"find another place to hide"}),". Once you've find the new hide, click on the corresponding button to store the new position."]}),Object(O.jsx)("button",{onClick:function(t){a("newLocation"),f(t,e._id,e.locdesc,!0)},type:"submit",className:"form-btn centered-btn other-color",children:"Leave it here"}),Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:function(t){f(t,e._id,e.locdesc,!1)},children:[Object(O.jsx)("button",{type:"submit",className:"form-btn centered-btn",id:"LocationDescriptionLeave",children:"Store a new location"}),Object(O.jsx)("input",{name:"locdesc",type:"text",placeholder:"New hint",id:"LocationDescription",className:"register-input hint-input"}),s&&Object(O.jsx)("p",{children:s.errorMessage})]})})]})})},t)}))]})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"spinner",children:Object(O.jsx)(E.a,{animation:"border",variant:"light",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(O.jsx)("div",{className:"finding-location",children:"Finding your location..."})]})},F=a(40),Z=function(e){var t=e.user,a=e.onDelete,n=(e.error,Object(l.f)(),Object(F.useState)(null)),s=Object(o.a)(n,2),c=(s[0],s[1]),r=Object(F.useState)([]),i=Object(o.a)(r,2),d=i[0],m=i[1];return Object(F.useEffect)((function(){j.a.get("".concat(u,"/api/mapitems/").concat(e.match.params.mapitemId)).then((function(e){m(e.data)})).catch((function(e){c(e.response)}))}),[]),t&&d.owner?Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"profileContent",children:[Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:d.image,alt:"round-map",className:"about-treasure"})}),Object(O.jsx)("h3",{children:d.itemname}),Object(O.jsxs)("div",{children:["Owner: ",d.owner.username]}),Object(O.jsxs)("div",{children:["Hint: ",d.locdesc]}),t.username===d.owner.username?Object(O.jsx)("button",{onClick:function(){a(d._id)},className:"transparent-btn centered-btn",children:"Delete"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)("h5",{children:"Previous finders and locations"}),d.objhistory.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[e.finder,", ",d.locdesc]})},e._id)}))]})}):Object(O.jsx)("div",{className:"spinner",children:Object(O.jsx)(E.a,{animation:"border",variant:"light",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})})})},K={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};var H=function(e){var t=e.user,a=Object(l.f)(),n=function(e){e.preventDefault(),navigator.geolocation.getCurrentPosition((function(n){!function(e,n){D.NotificationManager.info("Wauw! You just create new treasure!");var s={finder:t.username,lat:n.coords.latitude,long:n.coords.longitude},c={itemname:e.target.itemname.value,image:e.target.image.files[0],owner:t._id,locdesc:e.target.locdesc.value,objhistory:s},r=new FormData;r.append("imageUrl",c.image),j.a.post("".concat(u,"/api/upload"),r).then((function(e){j.a.post("".concat(u,"/api/create"),{itemname:c.itemname,image:e.data.image,owner:c.owner,locdesc:c.locdesc,objhistory:c.objhistory},{withCredentials:!0}).then((function(e){a.push("/map")})).catch((function(e){console.log("error while loading",e)}))})).catch((function(e){console.log("Create failed",e)}))}(e,n)}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}),K)};return t?Object(O.jsxs)("div",{children:[Object(O.jsx)(D.NotificationContainer,{}),Object(O.jsxs)("form",{onSubmit:function(e){n(e)},className:"form",children:[Object(O.jsx)("h3",{children:"Add a new treasure"}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{name:"image",type:"file",className:"register-input",id:"Inputimage",placeholder:"image url"})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{name:"itemname",type:"text",className:"register-input",id:"ItemName",placeholder:"Give your new treasure a name!"})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{name:"owner",type:"text",className:"register-input",id:"Owner",placeholder:"owner: you! (".concat(t.username,")"),readOnly:!0})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{name:"locdesc",type:"text",className:"register-input",id:"LocationDescription",placeholder:"Tell something about the location. Don't make it too easy for the finder!"})}),Object(O.jsx)("input",{name:"lat",type:"hidden"}),Object(O.jsx)("input",{name:"long",type:"hidden"}),Object(O.jsx)("button",{type:"submit",className:"form-btn centered-btn",children:"Add Treasure!"})]})]}):Object(O.jsx)("div",{className:"spinner",children:Object(O.jsx)(E.a,{animation:"border",variant:"light",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})})})},J=a.p+"static/media/cindy-teeven.96e00cd8.png",Y=a.p+"static/media/alexandra-westendorp.4d6c5d15.jpg",Q=function(){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"double-pic",children:[Object(O.jsx)("img",{src:J,alt:"cindy",className:"about-photo"}),Object(O.jsx)("img",{src:Y,alt:"alexandra",className:"about-photo"})]}),Object(O.jsxs)("p",{className:"on-top paragraph",children:["GeoKidz is the last project of our bootcamp at Ironhack. ",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"After three months of intense work, we had one week and a half to realized a full-stack application, fully responsive, in React. As a geodata specialist, Cindy suggested using geolocalisation for our project. GeoKidz was born !",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"We created a game for kids that allows us to use several technologies, including React, MongoDB, an API with NodeJs, and ExpressJs. With GeoKids, the user can visualize the treasures around him, which are painted stones, and collect them in order to earn points. He can also create his own painted stone, and place it on our map. Developing this game and working together has been a great and learningfull experience and we hope that you will feel all the pleasure we had working on it !",Object(O.jsx)("p",{className:"on-top names",children:"Cindy Teeven and Alexandra Westendorp"}),"Follow these links to find more information about the code of the ",Object(O.jsx)("a",{href:"https://github.com/sn0wb1rd/GeoKidz-server",children:"server"})," and the ",Object(O.jsx)("a",{href:"https://github.com/sn0wb1rd/GeoKidz-client",children:"client"})," side.",Object(O.jsx)("br",{}),"Or feel free to visit our LinkedIn page:",Object(O.jsx)("br",{}),Object(O.jsx)("a",{href:"https://www.linkedin.com/in/alexandra-westendorp/",children:"Alexandra Westendorp"}),Object(O.jsx)("br",{}),Object(O.jsx)("a",{href:"https://www.linkedin.com/in/cindytvn/",children:"Cindy Teeven"})]})]})},V=a.p+"static/media/thunder.04be9609.png",q={textAlign:"center",margin:"10px",padding:"10px"},X=function(e){var t=e.treasure;return Object(O.jsx)(A.a,{children:Object(O.jsxs)("div",{style:q,children:[Object(O.jsxs)("h5",{children:["Founded Treasure: ",t.itemname]}),t.image?Object(O.jsx)("img",{src:t.image,alt:t.itemname,width:"40px",className:"stone-popUp"}):null,Object(O.jsxs)("h6",{children:["Owner: ",t.owner]})]})})},$=function(e){switch(e){case"fox":return h;case"unicorn":return x;case"pinguin":return p}},ee=new z.a.Icon({iconUrl:"https://res.cloudinary.com/alexandra-wtp/image/upload/v1615367916/t1n7axjjzll1rf7e7pjk.svg",iconSize:[30,40]}),te=function(e){var t=e.user,a=Object(n.useState)([52.324231,4.837905]),s=Object(o.a)(a,2),c=s[0];s[1];if(t)return Object(O.jsxs)("div",{className:"profileContent",children:[Object(O.jsx)("h2",{children:t.username}),Object(O.jsxs)("div",{children:["Superpower ",Object(O.jsx)("img",{className:"thunder",src:V,alt:"thunder"})," ",Object(O.jsx)("img",{src:V,alt:"thunder",className:"thunder"})," ",Object(O.jsx)("img",{src:V,alt:"thunder",className:"thunder"}),":"," ",t.superpower]}),Object(O.jsx)("img",{src:$(t.guide),alt:"guide",className:"avatar-talk"}),Object(O.jsx)("h2",{children:"My Treasures"}),0!==t.findings.length?Object(O.jsx)("div",{children:Object(O.jsxs)(I.a,{center:c,zoom:15,scrollWheelZoom:!1,id:"map",children:[Object(O.jsx)(L.a,{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> \u2014 Map data \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg"}),Object(O.jsx)(k.a,{icon:ee,position:[t.findings[0].lat,t.findings[0].long],children:Object(O.jsx)(A.a,{className:"pop-up",children:"Founded!"})}),t.findings.map((function(e,t){return Object(O.jsx)(k.a,{icon:ee,position:[e.lat,e.long],children:Object(O.jsx)(X,{treasure:e})},t)}))]})}):Object(O.jsx)(O.Fragment,{}),0!==t.findings.length?t.findings.map((function(e){return Object(O.jsxs)("div",{className:"paragraph",children:[Object(O.jsxs)("div",{children:["Itemname: ",e.itemname]}),Object(O.jsxs)("div",{children:["Owner: ",e.owner]}),Object(O.jsxs)("div",{children:["Location: ",e.lat,", ",e.long]})]},e._id)})):Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"on-top",children:"Oww you haven't any treasures yet! "}),Object(O.jsx)(m.b,{className:"transparent-btn no-style-link",to:"/map",children:"Find one"})]})]})},ae=function(){return Object(O.jsx)("div",{className:"neutral-background",children:Object(O.jsxs)("div",{className:"centered-text",children:[Object(O.jsx)("h2",{children:"404"}),Object(O.jsx)("h4",{children:"This page doesn't exist my friend..."}),Object(O.jsx)("img",{src:x,alt:"unicorn",className:"avatar"})]})})},ne=function(e){return function(){switch(e){case"leaveHere":D.NotificationManager.info("Well done, you earned 10 points!","Saved as founded treasure");break;case"newLocation":D.NotificationManager.info("Well done, you earned 20 points!","Treasure is found, new location is saved!");break;case"success":D.NotificationManager.success("Super!");break;case"warning":D.NotificationManager.warning("Warning message","Close after 3000ms",3e3)}}};var se=function(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)([]),d=Object(o.a)(r,2),m=d[0],b=d[1],p=Object(n.useState)(null),h=Object(o.a)(p,2),x=(h[0],h[1]),v=Object(n.useState)(null),w=Object(o.a)(v,2),y=w[0],S=w[1],I=Object(l.f)();Object(n.useEffect)((function(){null===s&&j.a.get("".concat(u,"/api/user"),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(e){S(e)}))}),[]),Object(n.useEffect)((function(){j.a.get("".concat(u,"/api/mapitems")).then((function(e){b(e.data)})).catch((function(e){S(e)}))}),[]);var k=function(e){e.preventDefault();var t={username:e.target.username.value,password:e.target.password.value,guide:e.target.guide.value,superpower:e.target.superpower.value};j.a.post("".concat(u,"/api/signup"),t,{withCredentials:!0}).then((function(e){c(e.data),I.push("/map")})).catch((function(e){S(e.response.data)}))},A=function(e){e.preventDefault();var t={username:e.target.username.value,password:e.target.password.value};j.a.post("".concat(u,"/api/signin"),t,{withCredentials:!0}).then((function(e){c(e.data),I.push("/map")})).catch((function(e){S(e.response.data)}))},M=function(e){j.a.post("".concat(u,"/api/logout"),{},{withCredentials:!0}).then((function(e){c(null),I.push("/")})).catch((function(e){S(e.response.data)}))},z=function(e){D.NotificationManager.warning("You just succesfully deleted the treasure!"),j.a.delete("".concat(u,"/api/mapitems/").concat(e)).then((function(){x("Mapitem succesfully deleted");var t=m.filter((function(t){return t._id!==e}));b(t),I.push("/map")})).catch((function(e){S(e.response.data)}))};return s?Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{className:"gradient-background",children:[Object(O.jsx)(C,{onlogout:M,user:s}),Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/",render:function(e){return Object(O.jsx)(g,Object(i.a)({user:s},e))}}),Object(O.jsx)(l.a,{path:"/profile",render:function(e){return Object(O.jsx)(te,Object(i.a)({user:s},e))}}),Object(O.jsx)(l.a,{path:"/mapdetails/:mapitemId",render:function(e){return Object(O.jsx)(Z,Object(i.a)({error:y,user:s,onDelete:z},e))}}),Object(O.jsx)(l.a,{path:"/map/create",render:function(e){return Object(O.jsx)(H,Object(i.a)({error:y,user:s},e))}}),Object(O.jsx)(l.a,{path:"/map",render:function(e){return Object(O.jsx)(R,Object(i.a)({user:s,onConfirm:ne},e))}}),Object(O.jsx)(l.a,{path:"/about",render:function(){return Object(O.jsx)(Q,{user:s})}}),Object(O.jsx)(l.a,{path:"/",component:ae})]})]}),Object(O.jsx)("div",{className:"empty-triangle"})]}):Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{className:"gradient-background",children:[Object(O.jsx)(C,{onlogout:M,user:s}),Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/",render:function(e){return Object(O.jsx)(g,Object(i.a)({user:s},e))}}),Object(O.jsx)(l.a,{path:"/signin",render:function(e){return Object(O.jsx)(f,Object(i.a)(Object(i.a)({error:y,onSignIn:A},e),{},{guide:"fox"}))}}),Object(O.jsx)(l.a,{path:"/signup/:guide",render:function(e){return Object(O.jsx)(N,Object(i.a)({error:y,onSignUp:k},e))}}),Object(O.jsx)(l.a,{path:"/profile",render:function(e){return Object(O.jsx)(f,Object(i.a)(Object(i.a)({error:y,onSignIn:A},e),{},{guide:"fox"}))}}),Object(O.jsx)(l.a,{path:"/mapdetails/:mapitemId",render:function(e){return Object(O.jsx)(f,Object(i.a)(Object(i.a)({error:y,onSignIn:A},e),{},{guide:"fox"}))}}),Object(O.jsx)(l.a,{path:"/map/create",render:function(e){return Object(O.jsx)(f,Object(i.a)(Object(i.a)({error:y,onSignIn:A},e),{},{guide:"fox"}))}}),Object(O.jsx)(l.a,{path:"/map",render:function(e){return Object(O.jsx)(f,Object(i.a)(Object(i.a)({error:y,onSignIn:A},e),{},{guide:"fox"}))}}),Object(O.jsx)(l.a,{path:"/about",render:function(){return Object(O.jsx)(Q,{user:s})}}),Object(O.jsx)(l.a,{path:"/",component:ae})]})]}),Object(O.jsx)("div",{className:"empty-triangle"})]})};a(98);r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(m.a,{children:Object(O.jsx)(se,{})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.56b3a7eb.chunk.js.map